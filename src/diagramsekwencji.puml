@startuml
title Diagram sekwencji

actor "Main" as Main
participant "simulation:Simulation" as Simulation
participant "vipClient (hardcodowany)" as VIPClient
participant "kitchen:Kitchen" as Kitchen
participant "order:Order" as Order
participant "dish:Dish" as Dish
participant "cook:Cook" as Cook

activate Main
Main -> Simulation : new Simulation(config)
activate Simulation
Simulation -> Simulation : initialize()

Simulation -> VIPClient : new VIPClient(id, name)
activate VIPClient
deactivate VIPClient

Simulation -> VIPClient : placeOrder(chosenDish, kitchen)
deactivate Simulation

activate VIPClient
VIPClient -> Order : new Order(this, dish, 1)
activate Order
Order -> VIPClient : setOrder(this)
deactivate Order

VIPClient -> Kitchen : addVipOrder(order)
activate Kitchen
deactivate VIPClient

Kitchen -> Kitchen : processOrders()
activate Kitchen
Kitchen -> Kitchen : findFreeCook()
Kitchen -> Cook : assignOrder(order)
activate Cook

Kitchen -> Order : setStatus(OrderStatus.IN_PROGRESS)
activate Order
deactivate Order

Cook -> Dish : prepare()
activate Dish
deactivate Dish

Cook -> Order : setStatus(OrderStatus.READY)
activate Order
deactivate Order
deactivate Cook
deactivate Kitchen
@enduml